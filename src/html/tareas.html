<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Tareas - Sistema de Personal</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="container">
        <!-- Navegaci√≥n -->
        <nav class="nav-bar">
                            <a href="index.html" class="nav-link"><img src="../storage/vectors/home-svgrepo-com.svg" alt="" class="home-icon">Inicio</a>
            <span class="nav-separator">|</span>
                            <a href="empleados.html" class="nav-link"><img src="../storage/vectors/user-svgrepo-com.svg" alt="" class="user-icon">Empleados</a>
            <span class="nav-separator">|</span>
                            <a href="materiales.html" class="nav-link"><img src="../storage/vectors/layers-svgrepo-com.svg" alt="" class="layers-icon">Materiales</a>
            <span class="nav-separator">|</span>
                            <a href="otros-gastos.html" class="nav-link"><img src="../storage/vectors/briefcase-svgrepo-com.svg" alt="" class="briefcase-icon">Otros Gastos</a>
            <span class="nav-separator">|</span>
                            <span class="nav-current"><img src="../storage/vectors/clipboard-svgrepo-com.svg" alt="" class="clipboard-icon">Tareas</span>
            <span class="nav-separator">|</span>
                            <a href="#" onclick="abrirModalConfiguracion()" class="nav-link"><img src="../storage/vectors/settings-svgrepo-com.svg" alt="" class="settings-icon">Configuraci√≥n</a>
        </nav>

                    <h1 class="section-header"><img src="../storage/vectors/clipboard-svgrepo-com.svg" alt="" class="clipboard-icon-large">Gesti√≥n de Tareas</h1>

        <div class="buttons-section">
            <button onclick="crearTareaPersonalizada()" class="button button-success">
                ‚ûï Crear Tarea
            </button>
            <button onclick="limpiarListaTareas()" class="button button-warning">
                <img src="../storage/vectors/trash-svgrepo-com.svg" alt="" class="trash-icon">Limpiar Lista
            </button>
            <button onclick="exportarTareas()" class="button button-success">
                üìÑ Exportar a Consola
            </button>
            <button onclick="mostrarRangosDetallados()" class="button button-info">
                <img src="../storage/vectors/clipboard-svgrepo-com.svg" alt="" class="clipboard-icon">Ver Detalles de Rangos
            </button>
        </div>

        <!-- Lista de Tareas en la p√°gina principal -->
        <div class="empleados-container">
            <div class="empleados-header">
                <h2 class="section-header"><img src="../storage/vectors/clipboard-svgrepo-com.svg" alt="" class="clipboard-icon-large">Lista de Tareas (<span id="contadorTareas">0</span>)</h2>
            </div>
            <div id="estadisticasTareas" class="stats-panel">
                <!-- Estad√≠sticas se llenar√°n aqu√≠ -->
            </div>
            <div id="listaTareas" class="employees-list">
                <!-- Lista de tareas se llenar√° aqu√≠ -->
            </div>
        </div>

        <!-- Modal para Crear Tarea -->
        <div id="modalCrearTarea" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">‚ûï Crear Nueva Tarea</h2>
                    <button onclick="cerrarModalCrearTarea()" class="modal-close">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="config-panel">
                        <h3><img src="../storage/vectors/portrait-user-svgrepo-com.svg" alt="" class="portrait-user-icon-large"> Informaci√≥n de la Tarea</h3>
                        <p>Complete la informaci√≥n b√°sica de la tarea:</p>
                        <div class="input-group">
                            <label for="nombreTarea"><img src="../storage/vectors/user-list-svgrepo-com.svg" alt="" class="user-list-icon"> Nombre de la Tarea:</label>
                            <input type="text" id="nombreTarea" placeholder="Ej: Desarrollar p√°gina web">
                            <small id="errorNombreTarea" class="error-message"></small>
                        </div>
                        <div class="input-group">
                            <label for="duracionTarea">‚è±Ô∏è Duraci√≥n (horas):</label>
                            <input type="number" id="duracionTarea" step="0.5" min="0" placeholder="Ej: 8.5">
                            <small id="errorDuracionTarea" class="error-message"></small>
                        </div>

                        <h3><img src="../storage/vectors/user-svgrepo-com.svg" alt="" class="user-icon-large">Asignaci√≥n de Personal (Opcional)</h3>
                        <div class="input-group">
                            <label for="personalAsignado">Seleccionar Personal:</label>
                            <select id="personalAsignado">
                                <option value="">-- Sin personal asignado --</option>
                            </select>
                        </div>

                        <h3><img src="../storage/vectors/layers-svgrepo-com.svg" alt="" class="layers-icon-large">Material Necesario (Opcional)</h3>
                        <div class="input-group">
                            <label for="materialAsignado">Seleccionar Material:</label>
                            <select id="materialAsignado">
                                <option value="">-- Sin material asignado --</option>
                            </select>
                        </div>

                        <h3><img src="../storage/vectors/briefcase-svgrepo-com.svg" alt="" class="briefcase-icon-large">Otros Gastos (Opcional)</h3>
                        <div class="input-group">
                            <label for="otrosGastosAsignado">Seleccionar Otros Gastos:</label>
                            <select id="otrosGastosAsignado">
                                <option value="">-- Sin otros gastos asignados --</option>
                            </select>
                        </div>

                        <div class="info-note">
                            <strong><img src="../storage/vectors/traffic-light-svgrepo-com.svg" alt="" class="traffic-light-icon"> Informaci√≥n:</strong><br>
                            ‚Ä¢ <strong>Duraci√≥n:</strong> Tiempo estimado para completar la tarea<br>
                            ‚Ä¢ <strong>Asignaciones:</strong> Todas son opcionales, puedes crear tareas sin asignar recursos<br>
                            ‚Ä¢ <strong>Costo:</strong> Se calcular√° autom√°ticamente basado en las asignaciones<br>
                            ‚Ä¢ <strong>Estado:</strong> Las tareas nuevas inician como "Pendiente"
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button onclick="validarYCrearTarea()" class="button button-success">
                        ‚úÖ Crear Tarea
                    </button>
                    <button onclick="limpiarFormularioTarea()" class="button button-info">
                        üîÑ Limpiar Campos
                    </button>
                    <button onclick="cerrarModalCrearTarea()" class="button">
                        ‚ùå Cancelar
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal de Configuraci√≥n (compartido) -->
        <div id="modalConfiguracion" class="modal">
            <div class="modal-content config-modal">
                <div class="modal-header">
                    <h2 class="modal-title"><img src="../storage/vectors/settings-svgrepo-com.svg" alt="" class="settings-icon-large">Configuraci√≥n Global del Sistema</h2>
                    <button onclick="cerrarModalConfiguracion()" class="modal-close">√ó</button>
                </div>
                <div class="modal-body config-content">
                    <div class="config-panel">
                        <h2><img src="../storage/vectors/clipboard-svgrepo-com.svg" alt="" class="clipboard-icon-large">Configuraci√≥n de Tareas</h2>
                        <p>Configuraci√≥n espec√≠fica para el m√≥dulo de tareas:</p>
                        
                        <div class="config-grid">
                            <div class="input-group">
                                <label for="duracionMinimaTarea">‚è±Ô∏è Duraci√≥n M√≠nima (horas):</label>
                                <input type="number" id="duracionMinimaTarea" value="0.5" step="0.1" min="0">
                            </div>
                            <div class="input-group">
                                <label for="duracionMaximaTarea">‚è±Ô∏è Duraci√≥n M√°xima (horas):</label>
                                <input type="number" id="duracionMaximaTarea" value="40" step="0.1" min="0">
                            </div>
                        </div>
                        
                        <div class="info-note">
                            <strong><img src="../storage/vectors/traffic-light-svgrepo-com.svg" alt="" class="traffic-light-icon"> Nota:</strong> Estos rangos se aplicar√°n espec√≠ficamente a las tareas:<br>
                            <strong>‚è±Ô∏è Duraci√≥n:</strong> Tiempo permitido para las tareas<br>
                            <strong>Validaci√≥n:</strong> Se validar√° al crear o editar tareas<br>
                            <strong>‚ö° Aplicaci√≥n:</strong> Los cambios se aplicar√°n inmediatamente
                        </div>
                        
                        <div class="range-display-container">
                            <div id="rangosActualesTareas" class="range-display">
                                <strong>Rangos configurados:</strong><br>
                                Duraci√≥n: 0.5 - 40.0 horas
                            </div>
                        </div>
                        
                        <button onclick="aplicarConfiguracionTareas()" class="button button-success">
                            ‚úÖ Aplicar Configuraci√≥n de Tareas
                        </button>
                    </div>

                    <div class="config-panel">
                        <h2>üîß Configuraci√≥n de Validaci√≥n</h2>
                        <div class="config-grid">
                            <div class="input-group">
                                <label for="validacionEstricta">üîí Validaci√≥n Estricta de Nombres:</label>
                                <select id="validacionEstricta">
                                    <option value="true">Activada (Recomendado)</option>
                                    <option value="false">Desactivada</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="mostrarConsejos">üí° Mostrar Consejos de Validaci√≥n:</label>
                                <select id="mostrarConsejos">
                                    <option value="true">Activado</option>
                                    <option value="false">Desactivado</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="aplicarConfiguracionValidacion()" class="button button-success">
                            ‚úÖ Aplicar Configuraci√≥n de Validaci√≥n
                        </button>
                    </div>

                    <div class="config-panel">
                        <h2>üé® Configuraci√≥n de Interfaz</h2>
                        <div class="config-grid">
                            <div class="input-group">
                                <label for="temaInterfaz">üåà Tema de Interfaz:</label>
                                <select id="temaInterfaz">
                                    <option value="default">Por Defecto</option>
                                    <option value="dark">Oscuro</option>
                                    <option value="light">Claro</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="animaciones">‚ú® Animaciones:</label>
                                <select id="animaciones">
                                    <option value="true">Activadas</option>
                                    <option value="false">Desactivadas</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="idioma">üó£Ô∏è Idioma:</label>
                                <select id="idioma">
                                    <option value="es">Espa√±ol</option>
                                    <option value="en">Ingl√©s</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="aplicarConfiguracionInterfaz()" class="button button-success">
                            ‚úÖ Aplicar Configuraci√≥n de Interfaz
                        </button>
                    </div>

                    <div class="config-panel">
                        <h2>üíæ Gesti√≥n de Datos del Sistema</h2>
                        <div class="config-grid">
                            <div class="input-group">
                                <label for="autoguardado">üîÑ Autoguardado de Datos:</label>
                                <select id="autoguardado">
                                    <option value="true">Activado</option>
                                    <option value="false">Desactivado</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="backupAutomatico">‚òÅÔ∏è Backup Autom√°tico:</label>
                                <select id="backupAutomatico">
                                    <option value="true">Activado</option>
                                    <option value="false">Desactivado</option>
                                </select>
                            </div>
                        </div>
                        <button onclick="exportarConfiguracion()" class="button button-info">
                            üì§ Exportar Configuraci√≥n
                        </button>
                        <button onclick="resetearConfiguracion()" class="button button-warning">
                            üîÑ Resetear Configuraci√≥n
                        </button>
                        <button onclick="limpiarDatosSistema()" class="button button-danger">
                            <img src="../storage/vectors/trash-svgrepo-com.svg" alt="" class="trash-icon">Limpiar Todos los Datos
                        </button>
                    </div>

                    <div class="config-panel">
                        <h2><img src="../storage/vectors/stats-svgrepo-com.svg" alt="" class="stats-icon-large">Estad√≠sticas del Sistema</h2>
                        <div id="estadisticasSistema" class="stats-panel">
                            <!-- Estad√≠sticas se llenar√°n aqu√≠ -->
                        </div>
                        <button onclick="actualizarEstadisticasSistemaConfig()" class="button">
                            Actualizar Estad√≠sticas
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button onclick="cerrarModalConfiguracion()" class="button">
                        Cerrar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/Personal.js"></script>
    <script src="../js/Material.js"></script>
    <script src="../js/OtrosCostos.js"></script>
    <script src="../js/Tarea.js"></script>
    <script src="../js/tareas.js"></script>
</body>
</html>